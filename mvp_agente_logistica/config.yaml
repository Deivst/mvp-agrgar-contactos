# Configuracion General
general:
  version: "1.0.0"
  log_level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  log_file: "logs/agente.log"
  data_dir: "data/"
  temp_dir: "temp/"

# Configuracion de Entrada
input:
  supported_formats: ["jpg", "jpeg", "png", "tiff", "pdf"]
  max_file_size_mb: 20
  min_resolution_dpi: 150

# Configuracion de Preprocesamiento
preprocessing:
  denoise: true
  denoise_strength: 3
  deskew: true
  deskew_threshold: 0.5
  enhance_contrast: true
  contrast_method: "clahe"  # clahe, histogram
  binarize: false

# Configuracion OCR
ocr:
  primary_engine: "paddleocr"  # paddleocr, tesseract
  fallback_engine: "tesseract"
  language: "es"
  use_gpu: false
  confidence_threshold: 0.7

  paddleocr:
    use_angle_cls: true
    det_db_thresh: 0.3
    det_db_box_thresh: 0.6
    det_db_unclip_ratio: 1.5

  tesseract:
    psm: 3  # Page segmentation mode
    oem: 3  # OCR Engine Mode

# Configuracion LLM
llm:
  provider: "ollama"
  model: "llama3:8b"
  base_url: "http://localhost:11434"
  timeout_seconds: 30
  max_retries: 3
  temperature: 0.1  # Bajo para consistencia

  classification:
    max_tokens: 100
    confidence_threshold: 0.8

  extraction:
    max_tokens: 2000
    use_json_mode: true

# Configuracion de Validacion
validation:
  quantity_tolerance_percent: 10
  date_sequence_strict: true
  require_all_mandatory_fields: true

  cross_validation:
    enable: true
    link_by: ["numero_pedido", "cliente"]
    max_date_diff_days: 30

# Configuracion de Salida
output:
  format: "json"
  pretty_print: true
  include_raw_ocr: true
  include_metadata: true
  output_dir: "data/processed/"

# Configuracion de Performance
performance:
  max_workers: 4
  processing_timeout_seconds: 60
  enable_caching: true
  cache_dir: "cache/"

# Configuracion de Evaluacion
evaluation:
  test_data_dir: "data/test/"
  ground_truth_file: "data/test/ground_truth.json"
  results_dir: "data/results/"
  generate_plots: true
